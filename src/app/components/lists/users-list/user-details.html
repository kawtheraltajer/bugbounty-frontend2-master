<ion-header>
    <ion-toolbar class="text-center">
        <ion-buttons slot="start">
            <ion-button color="dark" (click)="dismiss()">
                <ion-icon name="close"></ion-icon>
            </ion-button>
        </ion-buttons>
        <ion-title>{{'System.Authorization.Users.Details.Title'|translate}} </ion-title>
    </ion-toolbar>
</ion-header>
<ion-content>
    <ng-container *ngIf="!isLoading">
        <div class="flex p-4 border-b ">
            <div class="flex flex-col w-full">
                <span class="flex items-center justify-center w-full">
                    <img class="object-cover w-40 h-40 rounded-full"
                        [src]="getURL(data?.pictureURL)|| 'https://t4.ftcdn.net/jpg/03/32/59/65/360_F_332596535_lAdLhf6KzbW6PWXBWeIFTovTii1drkbT.jpg'">
                </span>
                <div class=" flex-col flex items-center justify-center w-full">
                    <div class="flex-6 flex-none h-8 flex items-start justify-center w-full">
                        <span style="font-size: 18px;;font-family: bold;">
                            {{'System.Authorization.Users.Fields.ID'|translate}}:
                            {{data.id}}
                        </span>
                    </div>
                    <div class="flex-6 flex items-start  h-8  justify-center w-full">
                        <span style="font-size: 18px;;font-family: bold;">
                            {{'System.Authorization.Users.Fields.Name'|translate}}
                            : {{data.first_name + ' ' + data.last_name | titlecase}}
                        </span>
                    </div>
                    <div class="flex-6 flex items-start  h-8  justify-center w-full">
                        <span style="font-size: 18px;;font-family: bold;">
                            {{'System.Authorization.Users.Fields.bio'|translate}}:
                            {{data?.bio}}
                        </span>
                    </div>
                    <div class="flex-6 flex items-start  h-8  justify-center w-full">
                        <span
                            style="font-size: 18px;;font-family: bold;">{{'System.Authorization.Users.Fields.Role'|translate}}:
                            {{data.role? data.role.name +' - '+
                            data.role.description:'-'}} 
                        </span>
                        <button (click)="updateRole()">
                            <mat-icon class="mx-auto" color="accent" aria-label="Edit">edit</mat-icon>
                        </button>
                    </div>
                    <div class="flex-6 flex items-start h-8   justify-center w-full">
                        <span
                            style="font-size: 18px;;font-family: bold;">{{'System.Authorization.Users.Fields.Active'|translate}}:

                            <mat-slide-toggle [(ngModel)]="data.isActive" (change)="activate($event.checked)"
                                matTooltip="isActive">
                            </mat-slide-toggle>
                        </span>
                    </div>
                    <div class="flex-6 flex items-start justify-center w-full">
                        <span style="font-size: 18px;;font-family: bold;">
                            {{'System.Authorization.Users.Fields.Locked'|translate}}
                            :
                            <mat-slide-toggle [(ngModel)]="data.isLocked" (change)="lock($event.checked)"
                                matTooltip="isLocked">
                            </mat-slide-toggle>
                        </span>
                    </div>
                    <div class="flex-6 flex items-start justify-center w-full">
                        <ion-button color="danger" (click)="changePassword()">{{'MyAccount.Profile.ChangePassword'|translate}}</ion-button>
                    </div>
                </div>
            </div>
        </div>
    </ng-container>
</ion-content>